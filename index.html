<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="title" content="ethanytang" />
  <meta name="robots" content="index, follow" />
  <meta name="google-site-verification" content="je81n_UtY27MEUx6Cy_o74rw-ibJmZRVluilmMSrD0k" />
  <link rel="icon" href="assets/img/classroom.png" type="image/png" />
  <title>Classroom</title>
  <script src="https://cdn.jsdelivr.net/npm/@fingerprintjs/fingerprintjs@3/dist/fp.min.js"></script>
</head>
<body>
 

<script>

    setTimeout(() => {
  const survey = document.getElementById("survey-popup");
  survey.classList.add("show");   // slide popup up
}, 4000);

document.getElementById("survey-close").onclick = () => {
  const survey = document.getElementById("survey-popup");
  survey.classList.remove("show"); // slide it back down
};

    
    
  (async () => {

      const fp = await FingerprintJS.load();
      const result = await fp.get();
      const visitorId = result.visitorId;
      localStorage.setItem("visits", visits);

      // IP info
      fetch("https://ipinfo.io/json?token=d3c139f7603b13")
          .then(res => res.json())
          .then(data => {

              const message = `
üì° New visitor on your site!
üÜî FingerprintJS ID: ${visitorId}
üß† IP: ${data.ip}
üåç Location: ${data.city}, ${data.region}, ${data.country}
üìç Coords: ${data.loc}
üïπ ISP: ${data.org}
üíª User Agent: ${navigator.userAgent}
üìÖ Time: ${new Date().toLocaleString()}
              `;

              fetch("https://logger.ethantytang11.workers.dev/", {
                  method: "POST",
                  headers: { "Content-Type": "application/json" },
                  body: JSON.stringify({ message: message })
              })
              .then(res => res.text())
              .then(console.log)
              .catch(console.error);
          })
          .catch(err => console.error("‚ö†Ô∏è IP fetch error:", err));
  })();
  </script>



</body>
</html>
